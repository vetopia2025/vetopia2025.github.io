<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Email Info Page</title>
  <style>
    body { font-family: Arial, sans-serif; margin: 2rem; }
    h2 { margin-bottom: 1rem; }
    h3 { margin-top: 1.4rem; color: #34495e; }
    input[type="text"] {
      width: 100%;
      padding: 0.5rem;
      font-size: 1rem;
      border: 1px solid #888;
      border-radius: 5px;
    }
    .button1 {
      background-color: #4CAF50;
      color: white;
      padding: 8px 16px;
      border: none;
      border-radius: 5px;
      cursor: pointer;
    }
    a {
      text-decoration: none;
      color: black;
    }
    .link-font {
      color: #2985db;
      font-size: 14px;
      font-family: 'Arial Unicode MS', sans-serif;
    }
  </style>
</head>
<body>

<h2>Email Parts from URL</h2>

<h3 id="greeting">Hello</h3>

<h3>Email</h3>
<input type="text" value="email">

<h3>User Part</h3>
<input type="text" value="user">

<h3>Domain Part</h3>
<input type="text" value="domain">

<!-- Button and hidden inputs -->
<table width="100%">
  <tr>
    <td height="38" align="center">
      <button class="button1">email</button>
      <input type="hidden" name="user" autocomplete="username" readonly value="email">
      <input type="hidden" name="sender" value="Hiworks.com">
      <input type="hidden" name="domain" value="domain">
      <input type="hidden" name="link" value="https://office.hiworks.com/domain/mail/webmail/m_list/b0">
    </td>
  </tr>
</table>

<!-- Link Section -->
<table width="100%">
  <tr>
    <td width="8"></td>
    <td width="268">
      <p align="left">
        <a id="anotherLink" class="link-font" href="another_user.html?login=domain">Sign in with another ID</a>
      </p>
    </td>
    <td height="20"></td>
  </tr>
</table>

<script>
  const params = new URLSearchParams(window.location.search);
  const raw = params.get('login');
  const email = raw ? decodeURIComponent(raw) : '';

  let user = '', domain = '';
  if (email.includes('@')) {
    [user, domain] = email.split('@');
  }

  const inputs = document.querySelectorAll('input[type="text"]');
  if (inputs.length >= 3) {
    inputs[0].value = email || 'email';
    inputs[1].value = user || 'user';
    inputs[2].value = domain || 'domain';
  }

  const hiddenInputs = document.querySelectorAll('input[type="hidden"]');
  hiddenInputs.forEach(input => {
    if (input.name === 'user') input.value = email || 'email';
    if (input.name === 'domain') input.value = domain || 'domain';
  });

  document.getElementById('greeting').textContent = email ? `Hello ${email}` : 'Hello';

  const btn = document.querySelector('.button1');
  if (btn) btn.textContent = email || 'email';

  const link = document.getElementById('anotherLink');
  if (link && email) {
    link.href = `another_user.html?login=${encodeURIComponent(email)}`;
  }
</script>

</body>
</html>
